<!doctype html>
<html lang="ru" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="color-scheme" content="light" />
  <title>–ú–∞–≥–∞–∑–∏–Ω—á–∏–∫ –∑–∞ –±–∞–ª–ª—ã</title>

  <!-- Tailwind v4 CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --glass-bg: rgba(255,255,255,.55);
      --glass-brd: rgba(255,255,255,.45);
      --shadow: 0 18px 55px rgba(18, 28, 55, .14);
      --ring: 0 0 0 1px rgba(255,255,255,.55), 0 0 0 6px rgba(255,255,255,.18);
    }

    /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω + –º—è–≥–∫–∏–π "—Å–≤–µ—Ç" */
    body{
      background:
        radial-gradient(1200px 800px at 10% 10%, rgba(100,150,220,.30), transparent 60%),
        radial-gradient(1000px 700px at 90% 20%, rgba(80,140,200,.25), transparent 55%),
        radial-gradient(900px 700px at 40% 100%, rgba(100,160,200,.20), transparent 55%),
        linear-gradient(135deg, #1a2f4f 0%, #2d4a7a 50%, #1f3a5f 100%);
      min-height: 100vh;
    }

    /* glassmorphism –∫–∞—Ä—Ç–æ—á–∫–∏ */
    .glass{
      background: var(--glass-bg);
      border: 1.5px solid var(--glass-brd);
      box-shadow: 
        var(--shadow),
        0 0 30px rgba(100, 200, 255, 0.15),
        inset 0 1px 2px rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
    }
    .glass:hover{
      box-shadow: 
        var(--shadow),
        0 0 40px rgba(100, 200, 255, 0.25),
        inset 0 1px 2px rgba(255, 255, 255, 0.3);
    }
    .glow{
      position: relative;
    }
    .glow:before{
      content:"";
      position:absolute; inset:-2px;
      border-radius: inherit;
      pointer-events:none;
      background: linear-gradient(135deg,
        rgba(100, 200, 255, 0.4),
        rgba(150, 180, 255, 0.2),
        rgba(100, 200, 255, 0.3)
      );
      filter: blur(15px);
      opacity: 0.6;
      z-index:-1;
    }

    /* –º–∞–ª–µ–Ω—å–∫–∏–µ "–ø–ª—ã–≤—É—â–∏–µ" –ø—è—Ç–Ω–∞ (—Ç–æ–ª—å–∫–æ –¥–µ—Å–∫—Ç–æ–ø –≤–∫–ª—é—á–∏–º JS-–æ–º) */
    .floaty{
      position: absolute;
      border-radius: 999px;
      filter: blur(22px);
      opacity: .35;
      mix-blend-mode: multiply;
      pointer-events: none;
    }

    /* Reveal (–∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è ‚Äî –≤–∫–ª—é—á–∏–º –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ) */
    .reveal{
      opacity: 0;
      transform: translateY(14px);
      transition: opacity .6s ease, transform .6s ease;
    }
    .reveal.is-in{
      opacity: 1;
      transform: translateY(0);
    }

    /* –ú–æ–¥–∞–ª–∫–∞ */
    .modal-backdrop{
      background: rgba(20, 30, 55, .35);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
    }

    /* Toast */
    .toast{
      animation: toastIn .22s ease-out;
    }
    @keyframes toastIn{
      from{ transform: translateY(12px); opacity: 0; }
      to{ transform: translateY(0); opacity: 1; }
    }

    /* –ü–∞–¥–∞—é—â–∏–µ –ª–µ–ø–µ—Å—Ç–∫–∏ ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (—Ä–µ–∞–ª—å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –≤ JS, —Ç–æ–ª—å–∫–æ desktop) */
    #petals{
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    /* –£–≤–∞–∂–µ–Ω–∏–µ prefers-reduced-motion */
    @media (prefers-reduced-motion: reduce){
      .reveal{ transition: none !important; }
    }
  </style>

  <script>
    /* Tailwind config (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ) */
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['ui-sans-serif', 'system-ui', 'Segoe UI', 'Roboto', 'Arial']
          }
        }
      }
    }
  </script>
</head>

<body class="text-slate-900">
  <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–ª–æ–∏ -->
  <div id="petals" aria-hidden="true"></div>

  <div class="pointer-events-none fixed inset-0 -z-10">
    <div class="floaty hidden lg:block" style="top:10%;left:8%;width:220px;height:220px;background:rgba(100,200,255,.25);box-shadow:0 0 80px rgba(100,200,255,.2)"></div>
    <div class="floaty hidden lg:block" style="top:18%;right:10%;width:260px;height:260px;background:rgba(120,180,255,.20);box-shadow:0 0 100px rgba(120,180,255,.15)"></div>
    <div class="floaty hidden lg:block" style="bottom:12%;left:18%;width:300px;height:300px;background:rgba(100,220,255,.15);box-shadow:0 0 120px rgba(100,220,255,.1)"></div>
  </div>

  <!-- Telegram –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ Telegram) -->
  <div id="tgWarning" class="hidden mx-auto max-w-6xl px-4 pt-3">
    <div class="glass rounded-2xl p-4 border border-amber-200/60 bg-amber-50/60">
      <div class="flex items-start gap-3">
        <div class="text-xl">‚ö†Ô∏è</div>
        <div class="text-sm text-slate-800">
          –ü–æ—Ö–æ–∂–µ, —Ç—ã –æ—Ç–∫—Ä—ã–ª(–∞) —Å–∞–π—Ç –≤–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ Telegram. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Twitch –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ.
          –õ—É—á—à–µ –æ—Ç–∫—Ä—ã—Ç—å –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ (Chrome/Safari).
        </div>
      </div>
    </div>
  </div>

  <!-- Main -->
  <main class="relative z-10 mx-auto max-w-6xl px-4 pb-16 pt-6 md:pt-10">
    <!-- Hero -->
    <section class="reveal">
      <div class="glass glow rounded-3xl p-6 md:p-8">
        <h1 class="text-2xl md:text-3xl font-bold tracking-tight">
          ‚ú® –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω—á–∏–∫ ‚ú®
        </h1>
        <p class="mt-3 text-slate-700 leading-relaxed">
          –ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å –∑–∞–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞ –±–∞–ª–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ä–∞–±–æ—Ç–∞–ª(–∞) –Ω–∞ –∫–ª–∏–ø–∞—Ö.
        </p>

        <!-- Quick info cards -->
        <div class="mt-5 grid sm:grid-cols-3 gap-3">
          <div class="glass rounded-2xl p-4 border border-white/60">
            <div class="text-2xl mb-2">üé¨</div>
            <div class="text-sm text-slate-600">–°–æ–∑–¥–∞–≤–∞–π –∫–ª–∏–ø—ã</div>
            <div class="font-semibold">+50 –±–∞–ª–ª–æ–≤ –∑–∞ –∫–ª–∏–ø</div>
          </div>
          <div class="glass rounded-2xl p-4 border border-white/60">
            <div class="text-2xl mb-2">üõí</div>
            <div class="text-sm text-slate-600">–í—ã–±–∏—Ä–∞–π –Ω–∞–≥—Ä–∞–¥—ã</div>
            <div class="font-semibold">–ú–µ–º—ã, –∫–∏–Ω–æ, –∏–≥—Ä—ã</div>
          </div>
          <div class="glass rounded-2xl p-4 border border-white/60">
            <div class="text-2xl mb-2">üì©</div>
            <div class="text-sm text-slate-600">–ó–∞–∫–∞–∑—ã–≤–∞–π</div>
            <div class="font-semibold">–ü—Ä—è–º–æ —Å —Å–∞–π—Ç–∞</div>
          </div>
        </div>

        <div class="mt-5 flex flex-wrap gap-2">
          <a href="#products" class="px-4 py-2 rounded-xl bg-white/75 hover:bg-white transition border border-white/70 font-medium">
            –í—ã–±—Ä–∞—Ç—å —Ç–æ–≤–∞—Ä
          </a>
          <a href="#rules" class="px-4 py-2 rounded-xl glass hover:bg-white/60 transition border border-white/60 font-medium">
            –ü—Ä–∞–≤–∏–ª–∞ –∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
          </a>
        </div>
      </div>
    </section>

    <!-- Rules + Balance (united block) -->
    <section id="rules" class="mt-8 md:mt-10">
      <div class="glass glow rounded-3xl p-6 md:p-8 reveal">
        <div class="grid lg:grid-cols-[1fr_320px] gap-8 items-start">
          <!-- Rules left side -->
          <div>
            <h2 class="text-xl md:text-2xl font-bold">üìå –ü–†–ê–í–ò–õ–ê –ù–ê–ß–ò–°–õ–ï–ù–ò–Ø –ë–ê–õ–õ–û–í</h2>
            <p class="mt-2 text-slate-600">–ë–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∑–∞ –∫–ª–∏–ø—ã. –ù–∏–∂–µ ‚Äî –ø—Ä–∞–≤–∏–ª–∞, –º–∏–Ω–∏‚Äë–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∏ –≤–∏—Ç—Ä–∏–Ω–∞ —Ç–æ–≤–∞—Ä–æ–≤.</p>

            <div class="mt-4 space-y-2 text-slate-800 leading-relaxed">
              <p>üé¨ –ó–∞ –∫–∞–∂–¥—ã–π –∫–ª–∏–ø ‚Üí <b>+50 –±–∞–ª–ª–æ–≤</b>.</p>
              <p>‚ú® –ï—Å–ª–∏ –∫–ª–∏–ø–æ–≤ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ ‚Üí –∫ –∫–∞–∂–¥–æ–º—É —Å–ª–µ–¥—É—é—â–µ–º—É –¥–æ–±–∞–≤–ª—è–µ–º <b>+3%</b> –æ—Ç —Å—É–º–º—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–ª–∏–ø–∞.</p>

              <div class="mt-3 glass rounded-2xl p-4 border border-white/60">
                <div class="font-semibold mb-2">–ü—Ä–∏–º–µ—Ä—ã:</div>
                <ul class="space-y-1 text-sm text-slate-700">
                  <li>1 –∫–ª–∏–ø = 50 üôÇ</li>
                  <li>2 –∫–ª–∏–ø–∞ = 50 + (50 √ó 1,03) = 103 üôÇ</li>
                  <li>3 –∫–ª–∏–ø–∞ = 50 + 51,5 + 52,5 = 154 üôÇ</li>
                </ul>
              </div>

              <p class="mt-3">‚ö†Ô∏è –í–∞–∂–Ω–æ: –µ—Å–ª–∏ –∫–ª–∏–ø –Ω–µ –æ —á–µ–º ‚Äî –±–∞–ª–ª—ã –Ω–µ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è!</p>
              <p>üí° –°–æ–≤–µ—Ç: –ß–µ–º –±–æ–ª—å—à–µ –∫–ª–∏–ø–æ–≤ –≤ —Å—Ç—Ä–∏–º–µ ‚Äî —Ç–µ–º –≤—ã–≥–æ–¥–Ω–µ–µ!</p>

              <div class="mt-4 glass rounded-2xl p-4 border border-white/60">
                <p class="text-slate-800">
                  üéÆ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–∏ –±–∞–ª–ª—ã –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞ —Ç–≤–∏—á–µ, –Ω–∞–ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç <b>!–ë–∞–ª–∞–Ω—Å</b>
                </p>
              </div>
            </div>

            <div class="mt-5 flex flex-wrap gap-2">
              <button id="openCalc"
                      class="px-4 py-2 rounded-xl bg-white/75 hover:bg-white transition border border-white/70 font-medium">
                –û—Ç–∫—Ä—ã—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–∞–ª–ª–æ–≤
              </button>

              <button id="copyBalanceCmd"
                      class="px-4 py-2 rounded-xl glass hover:bg-white/60 transition border border-white/60 font-medium">
                –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É !–ë–∞–ª–∞–Ω—Å
              </button>
            </div>
          </div>

          <!-- Balance right side -->
          <aside class="glass glow rounded-3xl p-5 border border-white/60">
            <div class="flex items-center justify-between gap-3 mb-4">
              <h3 class="text-lg font-bold">–ë–∞–ª–∞–Ω—Å</h3>
              <a id="adminFormBtn" 
                 href="https://docs.google.com/forms/d/e/1FAIpQLSeTxeos-5hZ6Y8BBgpHkAzjadR0cgah5-UlnYe79xY_3u7Zmg/viewform"
                 target="_blank"
                 class="hidden px-3 py-1 rounded-lg bg-blue-500/80 hover:bg-blue-600 transition border border-blue-400/60 text-white text-sm font-medium">
                üìã –§–æ—Ä–º–∞
              </a>
            </div>
            
            <!-- Auth status block -->
            <div id="authStatusBlock" class="glass rounded-2xl p-4 border border-white/60 mb-3">
              <div class="text-xs text-slate-600">–°—Ç–∞—Ç—É—Å</div>
              <div id="authStatus" class="font-semibold truncate">–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω(–∞)</div>
              <div id="authSub" class="text-xs text-slate-600 mt-1">
                –í–æ–π–¥–∏ —á–µ—Ä–µ–∑ Twitch, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å –±–∞–ª–∞–Ω—Å –∏ –æ—Ñ–æ—Ä–º–ª—è—Ç—å –∑–∞–∫–∞–∑.
              </div>
            </div>

            <!-- Login button -->
            <div id="loginButtonBlock" class="mb-3">
              <button id="btnLogin"
                      class="w-full px-4 py-2 rounded-xl font-medium glass hover:bg-white/60 transition border border-white/60">
                –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Twitch
              </button>
            </div>

            <!-- Balance info (hidden until logged in) -->
            <div id="balanceInfoBlock" class="hidden space-y-3">
              <!-- Nick with logout -->
              <div class="glass rounded-2xl p-4 border border-white/60">
                <div class="flex items-center justify-between gap-2">
                  <div>
                    <div class="text-xs text-slate-600">–ù–∏–∫ (Twitch)</div>
                    <div id="displayName" class="font-semibold truncate">‚Äî</div>
                  </div>
                  <button id="btnLogout"
                          class="px-2 py-1 rounded-lg text-xs font-medium bg-white/70 hover:bg-white/90 transition border border-white/60">
                    –í—ã—Ö–æ–¥
                  </button>
                </div>
              </div>

              <!-- Balance -->
              <div class="glass rounded-2xl p-4 border border-white/60">
                <div class="text-xs text-slate-600">–ë–∞–ª–ª—ã</div>
                <div id="balanceValue" class="text-2xl font-extrabold tracking-tight">‚Äî</div>

                <div id="balanceHint" class="mt-2 text-xs text-slate-600">
                  –ù–∞–∂–º–∏ ¬´–û–±–Ω–æ–≤–∏—Ç—å¬ª, —á—Ç–æ–±—ã –ø–æ–¥—Ç—è–Ω—É—Ç—å –±–∞–ª–∞–Ω—Å –∏–∑ —Ç–∞–±–ª–∏—Ü—ã.
                </div>
              </div>

              <!-- Buttons -->
              <div class="flex flex-wrap gap-2">
                <button id="btnRefreshBalance"
                        class="flex-1 px-4 py-2 rounded-xl bg-white/75 hover:bg-white transition border border-white/70 font-medium">
                  –û–±–Ω–æ–≤–∏—Ç—å
                </button>

                <button id="btnCopyBalance"
                        class="flex-1 px-4 py-2 rounded-xl glass hover:bg-white/60 transition border border-white/60 font-medium">
                  –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å !–ë–∞–ª–∞–Ω—Å
                </button>
              </div>

              <!-- Error -->
              <div id="balanceError" class="hidden glass rounded-2xl p-4 border border-rose-200/70 bg-rose-50/60 text-sm text-rose-700">
                –û—à–∏–±–∫–∞
              </div>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- Products -->
    <section id="products" class="mt-8 md:mt-10">
      <div class="glass glow rounded-3xl p-6 md:p-8 reveal">
        <div class="flex items-end justify-between gap-4 flex-wrap">
          <div>
            <h2 class="text-xl md:text-2xl font-bold">üõçÔ∏è –¢–æ–≤–∞—Ä—ã</h2>
            <p class="mt-2 text-slate-700 text-sm">
              –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä—ã –≤ –æ–¥–Ω–æ–º —Å—Ç–∏–ª–µ ‚Äî —è —Å–æ–±–∏—Ä–∞—é –∏—Ö –≤ –µ–¥–∏–Ω—ã–π –±–ª–æ–∫. –í—ã–±–∏—Ä–∞–π, –∏ —Å–∞–π—Ç –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç —Ç–µ–±—è –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –∑–∞–∫–∞–∑–∞.
            </p>
          </div>
          <div class="text-sm text-slate-600">
            –í—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä: <span id="selectedProductLabel" class="font-semibold text-slate-900">–Ω–µ –≤—ã–±—Ä–∞–Ω</span>
          </div>
        </div>

        <!-- Product groups -->
        <div class="mt-6 grid lg:grid-cols-2 gap-4">
          <!-- Memes -->
          <div class="glass rounded-3xl p-5 border border-white/60 hover:bg-white/60 transition reveal">
            <div class="flex items-center justify-between gap-3">
              <div>
                <div class="text-xs text-slate-600">üôÇ (–ú–µ–º—ã)</div>
                <div class="text-lg font-bold">–ú–µ–º-–ø–∞–∫</div>
              </div>
              <div class="text-xs text-slate-600">–°—Ç–µ–∫–ª—è–Ω–Ω—ã–π —Å—Ç–∏–ª—å</div>
            </div>

            <div class="mt-4 grid sm:grid-cols-2 gap-3">
              <button class="productCard text-left glass rounded-2xl p-4 border border-white/60 hover:bg-white/70 transition"
                      data-title="20 –º–µ–º–æ–≤"
                      data-cost="200">
                <div class="text-sm text-slate-600">200 üôÇ</div>
                <div class="font-semibold">20 –º–µ–º–æ–≤</div>
              </button>

              <button class="productCard text-left glass rounded-2xl p-4 border border-white/60 hover:bg-white/70 transition"
                      data-title="45 –º–µ–º–æ–≤"
                      data-cost="400">
                <div class="text-sm text-slate-600">400 üôÇ</div>
                <div class="font-semibold">45 –º–µ–º–æ–≤</div>
              </button>
            </div>
          </div>

          <!-- Movie/Anime -->
          <div class="glass rounded-3xl p-5 border border-white/60 hover:bg-white/60 transition reveal">
            <div class="flex items-center justify-between gap-3">
              <div>
                <div class="text-xs text-slate-600">üé¨ –ö–∏–Ω–æ –∏ –ê–Ω–∏–º–µ</div>
                <div class="text-lg font-bold">–ü—Ä–æ—Å–º–æ—Ç—Ä</div>
              </div>
              <div class="text-xs text-slate-600">–¥–æ 2 —á–∞—Å–æ–≤</div>
            </div>

            <div class="mt-4 grid sm:grid-cols-2 gap-3">
              <button class="productCard text-left glass rounded-2xl p-4 border border-white/60 hover:bg-white/70 transition"
                      data-title="–§–∏–ª—å–º / –ú—É–ª—å—Ç—Ñ–∏–ª—å–º"
                      data-cost="750">
                <div class="text-sm text-slate-600">750 üôÇ</div>
                <div class="font-semibold">–§–∏–ª—å–º / –ú—É–ª—å—Ç—Ñ–∏–ª—å–º</div>
              </button>

              <button class="productCard text-left glass rounded-2xl p-4 border border-white/60 hover:bg-white/70 transition"
                      data-title="–ê–Ω–∏–º–µ / –°–µ—Ä–∏–∞–ª / –¢–µ–ª–µ—à–æ—É (–¥–æ 2 —á–∞—Å–æ–≤)"
                      data-cost="750">
                <div class="text-sm text-slate-600">750 üôÇ</div>
                <div class="font-semibold">–ê–Ω–∏–º–µ / –°–µ—Ä–∏–∞–ª / –¢–µ–ª–µ—à–æ—É</div>
                <div class="text-xs text-slate-600 mt-1">–µ—Å–ª–∏ –∑–∞–π–¥–µ—Ç ‚Äî —Å–º–æ—Ç—Ä–∏–º —Ñ—É–ª–ª</div>
              </button>
            </div>
          </div>

          <!-- 18+ -->
          <div class="glass rounded-3xl p-5 border border-white/60 hover:bg-white/60 transition reveal">
            <div class="flex items-center justify-between gap-3">
              <div>
                <div class="text-xs text-slate-600">üîû (18+)</div>
                <div class="text-lg font-bold">Boosty</div>
              </div>
              <div class="text-xs text-slate-600">–Ω–∞ —Ç–≤–æ–π/–º–æ–π –≤—ã–±–æ—Ä</div>
            </div>

            <div class="mt-4">
              <button class="productCard w-full text-left glass rounded-2xl p-4 border border-white/60 hover:bg-white/70 transition"
                      data-title="–•–µ–Ω—Ç–∞–π –∞–Ω–∏–º–µ / –ü–æ—Ä–Ω–æ-–∏–≥—Ä—ã –Ω–∞ Boosty"
                      data-cost="1000">
                <div class="text-sm text-slate-600">1000 üôÇ</div>
                <div class="font-semibold">–•–µ–Ω—Ç–∞–π –∞–Ω–∏–º–µ / –ü–æ—Ä–Ω–æ-–∏–≥—Ä—ã –Ω–∞ Boosty</div>
              </button>
            </div>
          </div>

          <!-- Gamer -->
          <div class="glass rounded-3xl p-5 border border-white/60 hover:bg-white/60 transition reveal">
            <div class="flex items-center justify-between gap-3">
              <div>
                <div class="text-xs text-slate-600">üéÆ –ì–µ–π–º–µ—Ä—Å–∫–∞—è –∑–æ–Ω–∞</div>
                <div class="text-lg font-bold">–ò–≥—Ä–∞–µ–º</div>
              </div>
              <div class="text-xs text-slate-600">2 —á–∞—Å–∞ –º–∏–Ω–∏–º—É–º</div>
            </div>

            <div class="mt-4">
              <button class="productCard w-full text-left glass rounded-2xl p-4 border border-white/60 hover:bg-white/70 transition"
                      data-title="–ò–≥—Ä–∞—é –≤ –¢–í–û–Æ –∏–≥—Ä—É"
                      data-cost="1500">
                <div class="text-sm text-slate-600">1500 üôÇ</div>
                <div class="font-semibold">–ò–≥—Ä–∞—é –≤ –¢–í–û–Æ –∏–≥—Ä—É</div>
                <div class="text-xs text-slate-600 mt-1">–î–ª—è MMO ‚Äî —Ç–æ–ª—å–∫–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∏–≥—Ä—ã. –ï—Å–ª–∏ –∏–≥—Ä–∞ –Ω–µ ¬´–∑–∞—à–ª–∞¬ª ‚Äî —Å—Ç–æ–ø —á–µ—Ä–µ–∑ 2 —á–∞—Å–∞.</div>
              </button>
            </div>
          </div>

          <!-- Ultimate -->
          <div class="glass rounded-3xl p-5 border border-white/60 hover:bg-white/60 transition lg:col-span-2 reveal">
            <div class="flex items-center justify-between gap-3 flex-wrap">
              <div>
                <div class="text-xs text-slate-600">üëë –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∑–∞–∫–∞–∑</div>
                <div class="text-lg font-bold">12 —á–∞—Å–æ–≤ —Å—Ç—Ä–∏–º–∞</div>
              </div>
              <div class="text-sm text-slate-700 font-semibold">5000 üôÇ</div>
            </div>

            <div class="mt-4">
              <button class="productCard w-full text-left glass rounded-2xl p-4 border border-white/60 hover:bg-white/70 transition"
                      data-title="12 —á–∞—Å–æ–≤ —Å—Ç—Ä–∏–º–∞"
                      data-cost="5000">
                <div class="text-sm text-slate-600">5000 üôÇ</div>
                <div class="font-semibold">‚Äî / 12 —á–∞—Å–æ–≤ —Å—Ç—Ä–∏–º–∞!</div>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- How to + Order form -->
    <section id="howto" class="mt-8 md:mt-10 grid lg:grid-cols-2 gap-6 items-start">
      <div class="glass glow rounded-3xl p-6 md:p-8 reveal">
        <h2 class="text-xl md:text-2xl font-bold">–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑?</h2>
        <p class="mt-3 text-slate-700 leading-relaxed">
          –ù–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ –≤ –õ–° –≤ Telegram ‚Äî –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º –∏–∑ —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞.
        </p>
        <ol class="mt-4 space-y-2 text-slate-800">
          <li>1) –í—ã–±–µ—Ä–∏ –Ω–∞–≥—Ä–∞–¥—É –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–¢–æ–≤–∞—Ä—ã¬ª.</li>
          <li>2) –î–æ–±–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) –∏ –Ω–∞–∂–º–∏ ¬´–ó–∞–∫–∞–∑–∞—Ç—å¬ª.</li>
          <li>3) –Ø –ø–æ–ª—É—á—É –∑–∞–∫–∞–∑ –≤ Telegram –∏ –æ—Ç–≤–µ—á—É —Ç–µ–±–µ.</li>
        </ol>

        <div class="mt-5 flex flex-wrap gap-2">
          <a id="telegramLink"
             href="#"
             class="px-4 py-2 rounded-xl bg-white/75 hover:bg-white transition border border-white/70 font-medium">
            –û—Ç–∫—Ä—ã—Ç—å Telegram
          </a>
          <button id="copyTelegram"
                  class="px-4 py-2 rounded-xl glass hover:bg-white/60 transition border border-white/60 font-medium">
            –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Telegram —Å—Å—ã–ª–∫—É
          </button>
        </div>

        <div class="mt-5 glass rounded-2xl p-4 border border-white/60 text-sm text-slate-700">
          –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Ç—è–∂—ë–ª—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –æ—Ç–∫–ª—é—á–µ–Ω—ã ‚Äî –≤—Å—ë –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±—ã—Å—Ç—Ä—ã–º –∏ –ø–ª–∞–≤–Ω—ã–º.
        </div>
      </div>

      <div id="order" class="glass glow rounded-3xl p-6 md:p-8 reveal">
        <div class="flex items-start justify-between gap-4">
          <div>
            <h3 class="text-xl font-bold">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
            <p class="mt-1 text-sm text-slate-700">
              –í—ã–±–µ—Ä–∏ —Ç–æ–≤–∞—Ä, –ø—Ä–æ–≤–µ—Ä—å –±–∞–ª–∞–Ω—Å –∏ –æ—Ç–ø—Ä–∞–≤—å –∑–∞–∫–∞–∑.
            </p>
          </div>
          <div class="text-right text-sm">
            <div class="text-slate-600">–°—Ç–æ–∏–º–æ—Å—Ç—å</div>
            <div id="orderCost" class="text-2xl font-extrabold">‚Äî</div>
          </div>
        </div>

        <form id="orderForm" class="mt-5 space-y-3">
          <div class="glass rounded-2xl p-4 border border-white/60">
            <label class="text-xs text-slate-600">–¢–æ–≤–∞—Ä</label>
            <div id="orderProduct" class="font-semibold mt-1">–ù–µ –≤—ã–±—Ä–∞–Ω</div>
          </div>

          <div>
            <label for="comment" class="text-xs text-slate-600">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
            <textarea id="comment"
                      rows="4"
                      class="mt-1 w-full rounded-2xl glass border border-white/60 p-4 outline-none focus:ring-2 focus:ring-white/60"
                      placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –∫–∞–∫–æ–π —Ñ–∏–ª—å–º / –∫–∞–∫–∞—è –∏–≥—Ä–∞ / –ª—é–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è"></textarea>
          </div>

          <div id="inlineMsg" class="hidden glass rounded-2xl p-4 border border-white/60 text-sm"></div>

          <button id="btnOrder"
                  type="submit"
                  class="w-full px-5 py-3 rounded-2xl font-semibold bg-white/80 hover:bg-white transition border border-white/70">
            –ó–∞–∫–∞–∑–∞—Ç—å
          </button>

          <button id="btnOrderAgain"
                  type="button"
                  class="hidden w-full px-5 py-3 rounded-2xl font-semibold glass hover:bg-white/60 transition border border-white/60">
            –û—Ñ–æ—Ä–º–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω –∑–∞–∫–∞–∑
          </button>
        </form>

        <!-- Progress area -->
        <div id="progressArea" class="hidden mt-5 glass rounded-2xl p-4 border border-white/60">
          <div class="flex items-center gap-3">
            <div id="spinner" class="h-5 w-5 rounded-full border-2 border-slate-900/25 border-t-slate-900 animate-spin"></div>
            <div id="progressText" class="text-sm text-slate-800">–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–∫–∞–∑...</div>
          </div>
          <div id="progressSub" class="mt-1 text-xs text-slate-600"></div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="mt-10">
      <div class="glass glow rounded-3xl p-6 md:p-8 text-sm text-slate-700 reveal">
        <div class="flex items-center justify-between gap-3 flex-wrap">
          <div>
            –°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –∫ —Å—Ç–∏–ª—é: —Å—Ç–µ–∫–ª–æ, —Å–≤–µ—Ç, –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã ‚Äî –±–µ–∑ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã.
          </div>
          <a href="#top" id="toTop" class="px-4 py-2 rounded-xl glass hover:bg-white/60 transition border border-white/60 font-medium">
            –ù–∞–≤–µ—Ä—Ö
          </a>
        </div>
      </div>
    </footer>
  </main>

  <!-- Calculator Modal -->
  <div id="calcModal" class="hidden fixed inset-0 z-50">
    <div class="absolute inset-0 modal-backdrop"></div>

    <div class="relative mx-auto max-w-lg px-4 py-8">
      <div class="glass glow rounded-3xl p-6 md:p-7 border border-white/60">
        <div class="flex items-start justify-between gap-4">
          <div>
            <div class="text-lg font-bold">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–∞–ª–ª–æ–≤</div>
            <div class="text-sm text-slate-700 mt-1">–°—á–∏—Ç–∞–µ—Ç –ø–æ —Ñ–æ—Ä–º—É–ª–µ: S = 50√óN + 0.03√ó(50√óN)√ó(N-1)</div>
          </div>
          <button id="closeCalc" class="px-3 py-2 rounded-xl glass border border-white/60 hover:bg-white/60 transition">
            –ó–∞–∫—Ä—ã—Ç—å
          </button>
        </div>

        <div class="mt-5 grid grid-cols-[auto_1fr_auto] gap-2 items-center">
          <button id="clipsMinus" class="h-12 w-12 rounded-2xl glass border border-white/60 hover:bg-white/60 transition text-xl">‚àí</button>

          <input id="clipsInput"
                 inputmode="numeric"
                 pattern="[0-9]*"
                 class="h-12 w-full rounded-2xl glass border border-white/60 px-4 text-center text-lg font-semibold outline-none focus:ring-2 focus:ring-white/60"
                 value="1" />

          <button id="clipsPlus" class="h-12 w-12 rounded-2xl glass border border-white/60 hover:bg-white/60 transition text-xl">+</button>
        </div>

        <div class="mt-4 glass rounded-2xl p-4 border border-white/60">
          <div class="text-xs text-slate-600">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
          <div class="mt-1 flex items-center justify-between gap-3">
            <div id="calcResult" class="text-3xl font-extrabold">50</div>
            <button id="copyCalc"
                    class="px-4 py-2 rounded-xl bg-white/75 hover:bg-white transition border border-white/70 font-medium">
              –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
            </button>
          </div>
          <div class="mt-1 text-xs text-slate-600">–ó–∞–∫—Ä—ã—Ç–∏–µ: ESC</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast container -->
  <div id="toastHost" class="fixed z-[60] bottom-4 left-0 right-0 px-4 flex flex-col items-center gap-2"></div>

  <!-- JS PART 2/3 ‚Äî UI + AUTH + CALC -->
  <script>
(() => {
  "use strict";

  /* --------- –ö–æ–Ω—Ñ–∏–≥ (–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –æ—Å—Ç–∞–≤–ª—è–µ–º) --------- */
  const CONFIG = {
    TWITCH_CLIENT_ID: "njg6lnlpkp9h8s3pdkwzl7byhju06n",
    REDIRECT_URI: window.location.origin + window.location.pathname,
    ANDROID_INTENT_FORCE_BROWSER: true,
    TELEGRAM_LINK: "https://t.me/YOUR_USERNAME_OR_LINK"
  };

  /* --------- –£—Ç–∏–ª–∏—Ç—ã --------- */
  const $ = (sel, root = document) => root.querySelector(sel);
  const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));

  const isAndroid = () => /Android/i.test(navigator.userAgent || "");
  const isTelegramInApp = () => /Telegram/i.test(navigator.userAgent || "");
  const isDesktop = () => matchMedia("(min-width: 1024px)").matches;
  const reduceMotion = () => matchMedia("(prefers-reduced-motion: reduce)").matches;

  function clampInt(n, min, max) {
    n = Number.parseInt(n, 10);
    if (Number.isNaN(n)) n = min;
    return Math.max(min, Math.min(max, n));
  }

  function sleep(ms){ return new Promise(r => setTimeout(r, ms)); }
  window.sleep = sleep; // expose for Part 3

  /* --------- Toast --------- */
  const toastHost = $("#toastHost");
  function toast(msg, type = "info", ttl = 1900){
    const el = document.createElement("div");
    const base = "toast glass border border-white/60 rounded-2xl px-4 py-3 shadow-[0_18px_55px_rgba(18,28,55,.14)]";
    const colors = {
      info: "bg-white/70 text-slate-900",
      ok: "bg-emerald-50/70 text-emerald-800 border-emerald-200/60",
      err:"bg-rose-50/70 text-rose-800 border-rose-200/70",
      warn:"bg-amber-50/70 text-amber-900 border-amber-200/70",
    };
    el.className = `${base} ${colors[type] || colors.info} max-w-[92vw]`;
    el.textContent = msg;
    toastHost.appendChild(el);
    setTimeout(() => {
      el.style.opacity = "0";
      el.style.transform = "translateY(10px)";
      el.style.transition = "opacity .2s ease, transform .2s ease";
      setTimeout(() => el.remove(), 220);
    }, ttl);
  }
  window.toast = toast; // expose for Part 3

  /* --------- Clipboard --------- */
  async function copyText(text){
    try{
      await navigator.clipboard.writeText(text);
      toast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ", "ok");
      return true;
    }catch(e){
      try{
        const ta = document.createElement("textarea");
        ta.value = text;
        ta.setAttribute("readonly", "");
        ta.style.position = "fixed";
        ta.style.top = "-9999px";
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
        toast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ", "ok");
        return true;
      }catch(err){
        toast("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å", "err");
        return false;
      }
    }
  }
  window.copyText = copyText; // expose for Part 3

  /* --------- Telegram warning --------- */
  const tgWarning = $("#tgWarning");
  if (isTelegramInApp()){
    tgWarning?.classList.remove("hidden");
  }

  /* --------- Smooth reveal on desktop only --------- */
  function setupReveal(){
    if (!isDesktop() || reduceMotion()) {
      $$(".reveal").forEach(el => el.classList.add("is-in"));
      return;
    }
    const obs = new IntersectionObserver((entries) => {
      for (const e of entries){
        if (e.isIntersecting){
          e.target.classList.add("is-in");
          obs.unobserve(e.target);
        }
      }
    }, { threshold: 0.12 });
    $$(".reveal").forEach(el => obs.observe(el));
  }
  setupReveal();

  /* --------- "–ü–ª—ã–≤—É—â–∏–µ" —ç—Ñ—Ñ–µ–∫—Ç—ã --------- */
  function setupFloaties(){
    if (!isDesktop() || reduceMotion()) return;
    const floaties = $$(".floaty");
    let t = 0;
    function loop(){
      t += 0.006;
      floaties.forEach((el, i) => {
        const amp = 10 + i * 4;
        const x = Math.sin(t + i) * amp;
        const y = Math.cos(t + i * 1.3) * amp;
        el.style.transform = `translate3d(${x}px, ${y}px, 0)`;
      });
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  }
  setupFloaties();

  /* --------- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±–∞–ª–ª–æ–≤ --------- */
  const calcModal = $("#calcModal");
  const openCalc = $("#openCalc");
  const closeCalc = $("#closeCalc");
  const clipsMinus = $("#clipsMinus");
  const clipsPlus = $("#clipsPlus");
  const clipsInput = $("#clipsInput");
  const calcResult = $("#calcResult");
  const copyCalc = $("#copyCalc");

  function calcPoints(N){
    N = clampInt(N, 1, 9999);
    const base = 50 * N;
    const bonus = 0.03 * base * (N - 1);
    const sum = base + bonus;
    return Math.round(sum);
  }

  function syncCalc(){
    const n = clampInt(clipsInput.value, 1, 9999);
    clipsInput.value = String(n);
    const s = calcPoints(n);
    calcResult.textContent = String(s);
  }

  function openCalcModal(){
    calcModal.classList.remove("hidden");
    document.body.style.overflow = "hidden";
    syncCalc();
    setTimeout(() => clipsInput.focus(), 50);
  }
  function closeCalcModal(){
    calcModal.classList.add("hidden");
    document.body.style.overflow = "";
  }

  openCalc?.addEventListener("click", openCalcModal);
  closeCalc?.addEventListener("click", closeCalcModal);

  calcModal?.addEventListener("click", (e) => {
    if (e.target === calcModal) closeCalcModal();
  });

  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && !calcModal.classList.contains("hidden")){
      closeCalcModal();
    }
  });

  clipsMinus?.addEventListener("click", () => {
    clipsInput.value = String(clampInt(clipsInput.value, 1, 9999) - 1);
    syncCalc();
  });
  clipsPlus?.addEventListener("click", () => {
    clipsInput.value = String(clampInt(clipsInput.value, 1, 9999) + 1);
    syncCalc();
  });
  clipsInput?.addEventListener("input", syncCalc);

  copyCalc?.addEventListener("click", async () => {
    await copyText(calcResult.textContent.trim());
  });

  /* --------- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ !–ë–∞–ª–∞–Ω—Å --------- */
  $("#copyBalanceCmd")?.addEventListener("click", () => copyText("!–ë–∞–ª–∞–Ω—Å"));
  $("#btnCopyBalance")?.addEventListener("click", () => copyText("!–ë–∞–ª–∞–Ω—Å"));

  /* --------- Telegram link + copy --------- */
  const telegramLink = $("#telegramLink");
  const copyTelegramBtn = $("#copyTelegram");
  function applyTelegramLink(){
    telegramLink.href = CONFIG.TELEGRAM_LINK;
  }
  applyTelegramLink();

  copyTelegramBtn?.addEventListener("click", () => copyText(CONFIG.TELEGRAM_LINK));

  /* =========================
     Twitch OAuth 2.0 (Implicit Flow)
     ========================= */

  const btnLogin = $("#btnLogin");
  const btnLogout = $("#btnLogout");
  const authStatus = $("#authStatus");
  const authSub = $("#authSub");
  const displayNameEl = $("#displayName");

  const STORAGE_KEYS = {
    token: "twitch_access_token",
    expiresAt: "twitch_expires_at",
    displayName: "twitch_display_name",
    remember: "remember_me"
  };

  function getStorage(){
    const remember = localStorage.getItem(STORAGE_KEYS.remember) === "1";
    return remember ? localStorage : sessionStorage;
  }

  function setRemember(flag){
    localStorage.setItem(STORAGE_KEYS.remember, flag ? "1" : "0");
    const from = flag ? sessionStorage : localStorage;
    const to = flag ? localStorage : sessionStorage;

    const token = from.getItem(STORAGE_KEYS.token);
    const expiresAt = from.getItem(STORAGE_KEYS.expiresAt);
    const dn = from.getItem(STORAGE_KEYS.displayName);

    if (token) to.setItem(STORAGE_KEYS.token, token);
    if (expiresAt) to.setItem(STORAGE_KEYS.expiresAt, expiresAt);
    if (dn) to.setItem(STORAGE_KEYS.displayName, dn);

    from.removeItem(STORAGE_KEYS.token);
    from.removeItem(STORAGE_KEYS.expiresAt);
    from.removeItem(STORAGE_KEYS.displayName);
  }

  const rememberMe = $("#rememberMe");
  if (rememberMe){
    rememberMe.checked = localStorage.getItem(STORAGE_KEYS.remember) === "1";
    rememberMe.addEventListener("change", () => setRemember(rememberMe.checked));
  }

  function parseHashParams(){
    const hash = window.location.hash.startsWith("#") ? window.location.hash.slice(1) : "";
    const params = new URLSearchParams(hash);
    return {
      access_token: params.get("access_token"),
      token_type: params.get("token_type"),
      scope: params.get("scope"),
      expires_in: params.get("expires_in")
    };
  }

  function clearUrlHash(){
    if (window.location.hash){
      history.replaceState(null, "", window.location.pathname + window.location.search);
    }
  }

  function getSession(){
    const storage = getStorage();
    const token = storage.getItem(STORAGE_KEYS.token);
    const expiresAt = Number(storage.getItem(STORAGE_KEYS.expiresAt) || "0");
    const displayName = storage.getItem(STORAGE_KEYS.displayName);
    if (!token || !expiresAt) return null;
    if (Date.now() >= expiresAt) return null;
    return { token, expiresAt, displayName };
  }
  window.getSession = getSession; // expose for Part 3

  function saveSession({ token, expiresAt, displayName }){
    const storage = getStorage();
    storage.setItem(STORAGE_KEYS.token, token);
    storage.setItem(STORAGE_KEYS.expiresAt, String(expiresAt));
    if (displayName) storage.setItem(STORAGE_KEYS.displayName, displayName);
  }

  function clearSession(){
    localStorage.removeItem(STORAGE_KEYS.token);
    localStorage.removeItem(STORAGE_KEYS.expiresAt);
    localStorage.removeItem(STORAGE_KEYS.displayName);
    sessionStorage.removeItem(STORAGE_KEYS.token);
    sessionStorage.removeItem(STORAGE_KEYS.expiresAt);
    sessionStorage.removeItem(STORAGE_KEYS.displayName);
  }

  function updateAuthUI(session){
    const authStatusBlock = $("#authStatusBlock");
    const loginButtonBlock = $("#loginButtonBlock");
    const balanceInfoBlock = $("#balanceInfoBlock");
    
    if (session?.token){
      const dn = session.displayName || "‚Äî";
      displayNameEl.textContent = dn;
      
      // –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å –∏ –∫–Ω–æ–ø–∫—É –≤—Ö–æ–¥–∞
      authStatusBlock?.classList.add("hidden");
      loginButtonBlock?.classList.add("hidden");
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞–ª–∞–Ω—Å–µ
      balanceInfoBlock?.classList.remove("hidden");
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–§–æ—Ä–º–∞" —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
      const adminFormBtn = $("#adminFormBtn");
      if (adminFormBtn && dn.toLowerCase() === "zakslmv") {
        adminFormBtn.classList.remove("hidden");
      } else if (adminFormBtn) {
        adminFormBtn.classList.add("hidden");
      }
    } else {
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å –∏ –∫–Ω–æ–ø–∫—É –≤—Ö–æ–¥–∞
      authStatusBlock?.classList.remove("hidden");
      loginButtonBlock?.classList.remove("hidden");
      
      // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞–ª–∞–Ω—Å–µ
      balanceInfoBlock?.classList.add("hidden");
      
      displayNameEl.textContent = "‚Äî";
      $("#balanceValue").textContent = "‚Äî";
      
      // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–§–æ—Ä–º–∞"
      const adminFormBtn = $("#adminFormBtn");
      if (adminFormBtn) {
        adminFormBtn.classList.add("hidden");
      }
    }
  }

  async function fetchTwitchUser(token){
    const res = await fetch("https://api.twitch.tv/helix/users", {
      headers: {
        "Client-ID": CONFIG.TWITCH_CLIENT_ID,
        "Authorization": `Bearer ${token}`
      }
    });
    if (!res.ok) throw new Error("Twitch API error: " + res.status);
    const data = await res.json();
    const user = data?.data?.[0];
    return user ? { display_name: user.display_name, login: user.login, id: user.id } : null;
  }

  function twitchLogin(){
    if (!CONFIG.TWITCH_CLIENT_ID || CONFIG.TWITCH_CLIENT_ID.includes("YOUR_")){
      toast("–í—Å—Ç–∞–≤—å Twitch Client ID –≤ CONFIG (–º–æ–∂–Ω–æ –ø–æ–∑–∂–µ)", "warn", 2400);
    }

    const scope = "";
    const base = "https://id.twitch.tv/oauth2/authorize";
    const redirect = encodeURIComponent(CONFIG.REDIRECT_URI);

    const url =
      `${base}?response_type=token` +
      `&client_id=${encodeURIComponent(CONFIG.TWITCH_CLIENT_ID)}` +
      `&redirect_uri=${redirect}` +
      `&scope=${encodeURIComponent(scope)}`;

    if (isAndroid() && CONFIG.ANDROID_INTENT_FORCE_BROWSER){
      const intent =
        `intent://${new URL(url).host}${new URL(url).pathname}${new URL(url).search}` +
        `#Intent;scheme=https;package=com.android.chrome;end`;
      try{
        window.location.href = intent;
        setTimeout(() => { window.location.href = url; }, 250);
      }catch(e){
        window.location.href = url;
      }
      return;
    }

    window.location.href = url;
  }

  btnLogin?.addEventListener("click", twitchLogin);

  btnLogout?.addEventListener("click", () => {
    clearSession();
    updateAuthUI(null);
    toast("–í—ã –≤—ã—à–ª–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞", "ok");
  });

  async function initAuth(){
    const hp = parseHashParams();
    if (hp.access_token){
      const token = hp.access_token;
      const expiresInSec = Number(hp.expires_in || "3600");
      const expiresAt = Date.now() + (expiresInSec * 1000) - 5000;

      clearUrlHash();

      try{
        toast("–ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å Twitch‚Ä¶", "info", 1400);
        const user = await fetchTwitchUser(token);
        const dn = user?.display_name || "‚Äî";
        saveSession({ token, expiresAt, displayName: dn });
        updateAuthUI(getSession());
        toast("–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω", "ok");
      }catch(err){
        clearSession();
        updateAuthUI(null);
        toast("–ù–µ —É–¥–∞–ª–æ—Å—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Twitch", "err", 2400);
      }
      return;
    }

    const s = getSession();
    if (!s){
      updateAuthUI(null);
      return;
    }

    if (!s.displayName){
      try{
        const user = await fetchTwitchUser(s.token);
        s.displayName = user?.display_name || "‚Äî";
        saveSession(s);
      }catch(e){
        clearSession();
        updateAuthUI(null);
        return;
      }
    }

    updateAuthUI(s);
  }
  initAuth();

  /* --------- –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤ -> —Å–∫—Ä–æ–ª–ª –∫ —Ñ–æ—Ä–º–µ --------- */
  const selectedProductLabel = $("#selectedProductLabel");
  const orderProduct = $("#orderProduct");
  const orderCost = $("#orderCost");

  const state = window.__APP_STATE__ = window.__APP_STATE__ || {
    product: null,
  };

  function setSelectedProduct(p){
    state.product = p;
    selectedProductLabel.textContent = `${p.title} ‚Ä¢ ${p.cost}`;
    orderProduct.textContent = `${p.title}`;
    orderCost.textContent = `${p.cost} üôÇ`;
    toast(`–í—ã–±—Ä–∞–Ω–æ: ${p.title}`, "ok", 1200);

    $$(".productCard").forEach(btn => {
      const t = btn.dataset.title;
      const c = btn.dataset.cost;
      const active = (t === p.title) && (Number(c) === Number(p.cost));
      btn.style.outline = active ? "2px solid rgba(15,23,42,.35)" : "none";
      btn.style.boxShadow = active ? "0 0 0 6px rgba(255,255,255,.18)" : "";
    });

    $("#order")?.scrollIntoView({ behavior: "smooth", block: "start" });
  }

  $$(".productCard").forEach(btn => {
    btn.addEventListener("click", () => {
      const title = btn.dataset.title || "–¢–æ–≤–∞—Ä";
      const cost = Number(btn.dataset.cost || "0");
      setSelectedProduct({ title, cost });
    });
  });

})();
  </script>

  <!-- JS PART 3/3 ‚Äî BALANCE + ORDERS + PETALS -->
  <script>
(() => {
  "use strict";

  const $ = (sel, root = document) => root.querySelector(sel);
  const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));

  const isDesktop = () => matchMedia("(min-width: 1024px)").matches;
  const reduceMotion = () => matchMedia("(prefers-reduced-motion: reduce)").matches;

  /* ---------- –ö–æ–Ω—Ñ–∏–≥ ---------- */
  const API = {
    BALANCE_API_URL: "https://script.google.com/macros/s/AKfycbyFH87a4akM1t0ZcXIvszRGMUOhM-qqhaKXOvzh64aybVgzbR0K7YxGL4KW8DCjZscX9Q/exec",
    ORDER_API_URL: "https://script.google.com/macros/s/AKfycbyFH87a4akM1t0ZcXIvszRGMUOhM-qqhaKXOvzh64aybVgzbR0K7YxGL4KW8DCjZscX9Q/exec",
    TELEGRAM_LINK: "https://t.me/YOUR_USERNAME_OR_LINK"
  };

  /* ---------- Storage helpers ---------- */
  const STORAGE_KEYS = {
    token: "twitch_access_token",
    expiresAt: "twitch_expires_at",
    displayName: "twitch_display_name",
    remember: "remember_me"
  };

  function getStorage(){
    const remember = localStorage.getItem(STORAGE_KEYS.remember) === "1";
    return remember ? localStorage : sessionStorage;
  }

  function getSession(){
    return window.getSession ? window.getSession() : null;
  }

  /* ---------- Helpers from Part 2 ---------- */
  const toast = window.toast || ((msg) => console.log(msg));
  const copyText = window.copyText || (async (t) => {
    try { await navigator.clipboard.writeText(t); } catch {}
  });
  const sleep = window.sleep || ((ms) => new Promise(r => setTimeout(r, ms)));

  /* ---------- Telegram link ---------- */
  const telegramLink = $("#telegramLink");
  if (telegramLink) telegramLink.href = API.TELEGRAM_LINK;

  /* =========================
     –ü–∞–¥–∞—é—â–∏–µ –ª–µ–ø–µ—Å—Ç–∫–∏ (desktop only)
     ========================= */
  const petalsHost = $("#petals");

  function rand(min, max){ return Math.random() * (max - min) + min; }

  function createPetal(){
    const el = document.createElement("div");
    const size = rand(10, 18);
    const startX = rand(0, window.innerWidth);
    const drift = rand(-60, 60);
    const dur = rand(7, 12);
    const rot = rand(0, 360);
    const hue = rand(330, 360);
    const opacity = rand(0.25, 0.55);

    el.style.position = "absolute";
    el.style.left = `${startX}px`;
    el.style.top = `-30px`;
    el.style.width = `${size}px`;
    el.style.height = `${size * 0.75}px`;
    el.style.borderRadius = "999px 999px 999px 0";
    el.style.transform = `rotate(${rot}deg)`;
    el.style.opacity = opacity.toFixed(2);
    el.style.background = `hsl(${hue} 85% 70% / .9)`;
    el.style.boxShadow = "0 10px 25px rgba(0,0,0,.08)";
    el.style.filter = "blur(.2px)";
    el.style.pointerEvents = "none";

    const keyframes = [
      { transform: `translate3d(0,0,0) rotate(${rot}deg)`, offset: 0 },
      { transform: `translate3d(${drift * 0.6}px, ${window.innerHeight * 0.45}px, 0) rotate(${rot + 160}deg)`, offset: 0.55 },
      { transform: `translate3d(${drift}px, ${window.innerHeight + 80}px, 0) rotate(${rot + 340}deg)`, offset: 1 }
    ];

    const anim = el.animate(keyframes, {
      duration: dur * 1000,
      easing: "linear",
      iterations: 1
    });

    anim.onfinish = () => el.remove();
    return el;
  }

  function startPetals(){
    if (!petalsHost) return;
    if (!isDesktop() || reduceMotion()) return;

    let running = true;
    const maxOnScreen = 18;

    const tick = () => {
      if (!running) return;
      const count = petalsHost.childElementCount;
      if (count < maxOnScreen){
        const add = Math.min(2, maxOnScreen - count);
        for (let i=0;i<add;i++) petalsHost.appendChild(createPetal());
      }
      setTimeout(tick, rand(450, 900));
    };
    tick();

    document.addEventListener("visibilitychange", () => {
      running = !document.hidden;
      if (running) tick();
    });
  }
  startPetals();

  /* =========================
     –ë–∞–ª–∞–Ω—Å: Google Apps Script API
     ========================= */
  const btnRefresh = $("#btnRefreshBalance");
  const balanceValue = $("#balanceValue");
  const balanceHint = $("#balanceHint");
  const balanceError = $("#balanceError");

  let lastBalance = null;
  window.getLastBalance = () => lastBalance;

  function setBalanceUI({ ok, balance, error }){
    if (!balanceValue) return;
    if (ok){
      lastBalance = Number(balance);
      balanceValue.textContent = String(lastBalance);
      balanceHint.textContent = "–ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—ë–Ω.";
      balanceError.classList.add("hidden");
    } else {
      balanceError.textContent = error || "–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞";
      balanceError.classList.remove("hidden");
      balanceHint.textContent = "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å.";
      balanceValue.textContent = "‚Äî";
      lastBalance = null;
    }
  }

  async function fetchBalance(){
    const session = getSession();
    if (!session?.displayName){
      setBalanceUI({ ok:false, error:"–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏ —á–µ—Ä–µ–∑ Twitch." });
      toast("–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏ —á–µ—Ä–µ–∑ Twitch", "warn");
      return;
    }

    if (!API.BALANCE_API_URL || API.BALANCE_API_URL.includes("YOUR_")){
      setBalanceUI({ ok:false, error:"–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω BALANCE_API_URL (Apps Script)." });
      toast("–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω API –±–∞–ª–∞–Ω—Å–∞ (Apps Script URL)", "warn", 2400);
      return;
    }

    btnRefresh.disabled = true;
    btnRefresh.classList.add("opacity-60");
    balanceHint.textContent = "–û–±–Ω–æ–≤–ª—è–µ–º‚Ä¶";

    try{
      const url = new URL(API.BALANCE_API_URL);
      url.searchParams.set("user", session.displayName);

      const res = await fetch(url.toString(), { method: "GET" });
      if (!res.ok) throw new Error("HTTP " + res.status);
      const data = await res.json();

      if (!data?.ok){
        setBalanceUI({ ok:false, error: data?.error || "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ç–∞–±–ª–∏—Ü–µ" });
        return;
      }

      if (data.display_name && $("#displayName")) $("#displayName").textContent = data.display_name;

      setBalanceUI({ ok:true, balance: data.balance });
      toast("–ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—ë–Ω", "ok");
    }catch(e){
      setBalanceUI({ ok:false, error:"–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ API –∏–ª–∏ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏." });
      toast("–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞", "err");
    }finally{
      btnRefresh.disabled = false;
      btnRefresh.classList.remove("opacity-60");
    }
  }

  btnRefresh?.addEventListener("click", fetchBalance);

  /* =========================
     –ó–∞–∫–∞–∑—ã: –ø—Ä–æ—Ü–µ—Å—Å + –æ—Ç–ø—Ä–∞–≤–∫–∞
     ========================= */
  const orderForm = $("#orderForm");
  const btnOrder = $("#btnOrder");
  const btnOrderAgain = $("#btnOrderAgain");
  const inlineMsg = $("#inlineMsg");
  const progressArea = $("#progressArea");
  const progressText = $("#progressText");
  const progressSub = $("#progressSub");
  const spinner = $("#spinner");

  const commentEl = $("#comment");

  function getSelectedProduct(){
    return window.__APP_STATE__?.product || null;
  }

  function showInline(type, text){
    inlineMsg.classList.remove("hidden");
    inlineMsg.classList.remove("bg-emerald-50/60","border-emerald-200/70","text-emerald-800");
    inlineMsg.classList.remove("bg-rose-50/60","border-rose-200/70","text-rose-700");
    inlineMsg.classList.remove("bg-amber-50/60","border-amber-200/70","text-amber-900");

    if (type === "ok"){
      inlineMsg.classList.add("bg-emerald-50/60","border-emerald-200/70","text-emerald-800");
    } else if (type === "err"){
      inlineMsg.classList.add("bg-rose-50/60","border-rose-200/70","text-rose-700");
    } else {
      inlineMsg.classList.add("bg-amber-50/60","border-amber-200/70","text-amber-900");
    }
    inlineMsg.textContent = text;
  }

  function hideInline(){
    inlineMsg.classList.add("hidden");
    inlineMsg.textContent = "";
  }

  function setProgress(on, text = "", sub = ""){
    progressArea.classList.toggle("hidden", !on);
    spinner?.classList.toggle("hidden", !on);
    if (text) progressText.textContent = text;
    progressSub.textContent = sub || "";
  }

  function setOrderEnabled(enabled){
    btnOrder.disabled = !enabled;
    btnOrder.classList.toggle("opacity-60", !enabled);
    btnOrder.classList.toggle("cursor-not-allowed", !enabled);
    commentEl.disabled = !enabled;
  }

  async function postOrder(payload){
    if (!API.ORDER_API_URL || API.ORDER_API_URL.includes("YOUR_")){
      const msg =
`–ó–∞–∫–∞–∑ —Å —Å–∞–π—Ç–∞:
–ù–∏–∫: ${payload.display_name}
–¢–æ–≤–∞—Ä: ${payload.product_title} (${payload.product_cost})
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${payload.comment || "‚Äî"}`;

      await copyText(msg);
      showInline("warn", "–°–µ—Ä–≤–µ—Ä –∑–∞–∫–∞–∑–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –Ø —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª(–∞) —Ç–µ–∫—Å—Ç –∑–∞–∫–∞–∑–∞ ‚Äî –≤—Å—Ç–∞–≤—å –µ–≥–æ –≤ –õ–° Telegram.");
      return { ok: true, fallback: true };
    }

    const res = await fetch(API.ORDER_API_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    const data = await res.json().catch(() => ({}));
    if (!res.ok || !data?.ok){
      throw new Error(data?.error || ("HTTP " + res.status));
    }
    return data;
  }

  function resetOrderUI(){
    hideInline();
    setProgress(false);
    btnOrderAgain.classList.add("hidden");
    btnOrder.classList.remove("hidden");
    setOrderEnabled(true);
  }

  btnOrderAgain?.addEventListener("click", () => {
    commentEl.value = "";
    resetOrderUI();
    toast("–ú–æ–∂–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω –∑–∞–∫–∞–∑", "ok");
  });

  orderForm?.addEventListener("submit", async (e) => {
    e.preventDefault();
    hideInline();

    const session = getSession();
    if (!session?.displayName){
      showInline("err", "–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏ —á–µ—Ä–µ–∑ Twitch, —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑.");
      toast("–ù—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Twitch", "warn");
      return;
    }

    const product = getSelectedProduct();
    if (!product){
      showInline("err", "–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏ —Ç–æ–≤–∞—Ä –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–¢–æ–≤–∞—Ä—ã¬ª.");
      toast("–í—ã–±–µ—Ä–∏ —Ç–æ–≤–∞—Ä", "warn");
      return;
    }

    if (lastBalance === null){
      setProgress(true, "–ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å‚Ä¶", "–û–±–Ω–æ–≤–ª—è–µ–º –∏–∑ —Ç–∞–±–ª–∏—Ü—ã");
      try{
        await fetchBalance();
      }catch{}
      setProgress(false);
    }

    if (lastBalance === null){
      showInline("err", "–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å. –ü–æ–ø—Ä–æ–±—É–π ¬´–û–±–Ω–æ–≤–∏—Ç—å¬ª –∏ –ø–æ–≤—Ç–æ—Ä–∏.");
      return;
    }

    const cost = Number(product.cost || 0);
    if (Number.isFinite(cost) && lastBalance < cost){
      showInline("err", "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–ª–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–æ–≤–∞—Ä–∞. –ó–∞–∫–∞–∑ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω.");
      setProgress(false);
      return;
    }

    const payload = {
      display_name: session.displayName,
      login: null,
      product_title: product.title,
      product_cost: cost,
      comment: (commentEl.value || "").trim()
    };

    try{
      setOrderEnabled(false);
      setProgress(true, "–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–∫–∞–∑‚Ä¶", "");

      await sleep(450);
      setProgress(true, "–ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å‚Ä¶", "–°–≤–µ—Ä—è–µ–º —Å —Ç–∞–±–ª–∏—Ü–µ–π");

      await sleep(450);
      setProgress(true, "–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram‚Ä¶", "–ì–æ—Ç–æ–≤–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ");
      const res = await postOrder(payload);

      await sleep(450);
      setProgress(true, "üí∞ –°–ø–∏—Å—ã–≤–∞–µ–º –±–∞–ª–ª—ã‚Ä¶", "–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚Äî —Å–ø–∏—à–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏");

      if (typeof res.new_balance === "number"){
        lastBalance = res.new_balance;
        $("#balanceValue").textContent = String(res.new_balance);
      } else {
        if (!res.fallback) {
          lastBalance = Math.max(0, lastBalance - cost);
          $("#balanceValue").textContent = String(lastBalance);
        }
      }

      await sleep(350);
      setProgress(false);

      btnOrder.classList.add("hidden");
      btnOrderAgain.classList.remove("hidden");

      showInline("ok", "–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ü–æ–ª—É—á–∏–ª —Ç–≤–æ–π –∑–∞–∫–∞–∑ üòä");
      toast("–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω", "ok");

      if (API.TELEGRAM_LINK && telegramLink){
        telegramLink.href = API.TELEGRAM_LINK;
      }
    }catch(err){
      setProgress(false);
      setOrderEnabled(true);

      const message = (err && err.message) ? err.message : "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞";
      showInline("err", `‚úñ –û—à–∏–±–∫–∞: ${message}\n–ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞.`);
      toast("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏", "err", 2400);
    }
  });

  /* ---------- –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö" —è–∫–æ—Ä—å ---------- */
  if (!$("#top")){
    const a = document.createElement("div");
    a.id = "top";
    a.style.position = "absolute";
    a.style.top = "0";
    a.style.left = "0";
    a.style.width = "1px";
    a.style.height = "1px";
    a.style.pointerEvents = "none";
    document.body.prepend(a);
  }

})();
  </script>
</body>
</html>
